<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0f14" />
  <title>Abductive Tomato</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div id="app" class="app">
    <header class="app__header">
      <div class="brand">
        <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2c5.523 0 10 4.477 10 10a9.99 9.99 0 0 1-3.25 7.39l.71 1.64a1 1 0 1 1-1.84.79l-.61-1.41A9.96 9.96 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2Zm-1 4a1 1 0 0 0-1 1v2.382A4.5 4.5 0 0 0 6.5 14h2a2.5 2.5 0 1 1 5 0h2a4.5 4.5 0 0 0-3.5-4.618V7a1 1 0 0 0-1-1h-1Z"/></svg>
        <span>Abductive Tomato</span>
      </div>
      <div class="header__actions">
        <button id="themeToggle" class="btn btn--ghost" aria-label="Toggle theme">??</button>
        <button id="soundToggle" class="btn btn--ghost" aria-pressed="false" aria-label="Toggle sound">??</button>
        <button id="distractionToggle" class="btn btn--ghost" aria-pressed="false" aria-label="Distraction-free mode">?</button>
      </div>
    </header>

    <main class="grid">
      <!-- Left: Plan -->
      <section class="col plan" aria-label="Plan">
        <h2>Plan</h2>
        <form id="taskForm" class="task-form" autocomplete="off">
          <input id="taskInput" class="input" type="text" placeholder="Quick add task (A)" aria-label="Task title" />
          <select id="taskSize" class="select" aria-label="Task size">
            <option value="S">S</option>
            <option value="M" selected>M</option>
            <option value="L">L</option>
          </select>
          <button class="btn" type="submit">Add</button>
        </form>
        <ul id="taskList" class="task-list" role="list"></ul>
      </section>

      <!-- Center: Timer -->
      <section class="col timer" aria-label="Timer">
        <div class="timer__shell">
          <div class="phase" id="phaseLabel">Hypothesize</div>
          <div class="canvas-wrap">
            <svg class="ring" viewBox="0 0 120 120" aria-hidden="true">
              <circle class="ring__bg" cx="60" cy="60" r="54" />
              <circle class="ring__fg" id="ringFg" cx="60" cy="60" r="54" />
            </svg>
            <div class="time" id="timeText" aria-live="polite">00:00</div>
          </div>
          <div class="controls">
            <button id="startPause" class="btn btn--primary">Start</button>
            <button id="nextPhase" class="btn">Next</button>
            <div class="nudges">
              <button id="nudgeMinus" class="btn btn--ghost" title="-60s">?60s</button>
              <button id="nudgePlus" class="btn btn--ghost" title="+60s">+60s</button>
            </div>
          </div>
          <div class="focus-presets">
            <span>Focus presets:</span>
            <button data-focus="7" class="chip">7m</button>
            <button data-focus="14" class="chip">14m</button>
            <button data-focus="21" class="chip">21m</button>
            <button data-focus="28" class="chip">28m</button>
          </div>
          <div class="micro">
            <label class="switch"><input id="microBreaks" type="checkbox" checked /><span>Micro-breaks</span></label>
            <label class="switch"><input id="autoAdvance" type="checkbox" checked /><span>Auto-advance</span></label>
          </div>
        </div>
      </section>

      <!-- Right: Insights -->
      <section class="col insights" aria-label="Insights">
        <h2>Insights</h2>
        <div id="insightBox" class="insight-box"></div>
        <h3>Session Log</h3>
        <ul id="logList" class="log-list" role="list"></ul>
      </section>
    </main>

    <footer class="app__footer">
      <div>Keyboard: Space Start/Pause ? N Next ? +/- Adjust ? 1/2/3/4 Presets ? A Add</div>
    </footer>
  </div>

  <script src="/app.js" type="module"></script>
</body>
</html>
